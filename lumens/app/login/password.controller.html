<div  ng-controller="passwordController" ng-init="init()">
<div class="login-container">

  <div ng-hide="token" class="login-box animated fadeInDown">
    <div class="login-logo"></div>
    <div class="login-body">
      <div class="login-title"><strong>Reset Password</strong> to your account</div>
      <form ng-submit="requestLink()" class="form-horizontal" method="post" name="passwordForm">
        <div class="form-group">
          <div class="col-md-12">
             <input class="form-control" placeholder="E-mail" type="email" name="email" ng-model="userData.email" required/>
          </div>
          <span style="color:red" ng-show="passwordForm.email.$dirty && passwordForm.email.$invalid">                  
            <small ng-show="passwordForm.email.$error.email">Invalid email address.</small>
          </span>
        </div>

        <div class="form-group">
          <div class="col-md-6">
            <button class="btn btn-info btn-block" ng-disabled="passwordForm.$error.required || passwordForm.$error.$invalid">Request Reset Link</button>
          </div>
        </div>

        <div class="login-subtitle">
          Already have an account yet? <a ui-sref="login">Login</a>
        </div>
      </form>
    </div>
    <div class="login-footer">
      <div class="pull-left">
        &copy; 2017 Saza
      </div>
      <div class="pull-right">
        <a href="https://saza.io">Home</a> |
        <a href="https://saza.io/terms.html">Terms</a> |
        <a href="mailto: hello@saza.io">Contact Us</a>
      </div>
    </div>
  </div>

  <div ng-show="token" class="login-box animated fadeInDown">
    <div class="login-logo"></div>
    <div class="login-body">
      <div class="login-title"><strong>Reset Password</strong> to your account</div>
      <form ng-submit="resetPassword()" class="form-horizontal" method="post" name="resetForm">
        <div class="form-group">
          <div class="col-md-12">
            <input type="password" class="form-control"  placeholder="Password"
            name="password" ng-model="userData.password" required/>
          </div>
        </div>
        <div class="form-group">
          <div class="col-md-12">
            <input type="password" class="form-control" placeholder="Confirm Password"
             name="password_confirmation" ng-model="userData.password_confirmation" required data-password-verify="userData.password"/>
            <small style="color:red" ng-show="resetForm.password.$dirty && resetForm.password_confirmation.$error.required">
                  Confirm Password!
            </small>
            <small style="color:red" ng-show="resetForm.password_confirmation.$error.passwordVerify">
              Passwords do not match!
            </small>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-6">
            <button class="btn btn-info btn-block" ng-disabled="resetForm.$error.required || resetForm.$error.$invalid">Reset Password</button>
          </div>
        </div>

        <div class="login-subtitle">
          Already have an account yet? <a ui-sref="login">Login</a>
        </div>
      </form>
    </div>
    <div class="login-footer">
      <div class="pull-left">
        &copy; 2016 Saza
      </div>
      <div class="pull-right">
        <a href="https://saza.com.ng">Home</a> |
        <a href="https://saza.com.ng/terms.html">Terms</a> |
        <a href="mailto: hello@saza.com.ng">Contact Us</a>
      </div>
    </div>
  </div>  

</div>


  <!-- MESSAGE BOX-->
  <a href="#" class="mb-control-success" ng-hide="true" data-box="#mb-success"><span class="fa fa-sign-out"></span></a>
  <div class="message-box message-box-success animated fadeIn" data-sound="alert" id="mb-success">
    <div class="mb-container">
      <div class="mb-middle">
        <div class="mb-title"></span> <i class="fa fa-smile-o"></i>{{success_heading}} </div>
        <div class="mb-content">
          <p>{{success_msg}}</p>
        </div>
        <div class="mb-footer">
          <div class="pull-right">
            <a ng-if="showlogin" ui-sref="login" class="btn btn-success btn-lg">Login</a>
            
            <button class="btn btn-default btn-lg mb-control-close">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- END MESSAGE BOX-->

  <!-- MESSAGE BOX-->
  <a href="#" class="mb-control-error" ng-hide="true" data-box="#mb-error"><span class="fa fa-sign-out"></span></a>
  <div class="message-box message-box-danger animated fadeIn" data-sound="alert" id="mb-error">
    <div class="mb-container">
      <div class="mb-middle">
        <div class="mb-title"></span> <i class="fa fa-frown-o"></i> Oops! <strong>Invalid Credentials</strong>  </div>
        <div class="mb-content">
          <p>Unable to complete request.</p>   
          <p>{{error_msg}}</p>
          <p>Please verify your details and try again.</p>
          
        </div>
        <div class="mb-footer">
          <div class="pull-right">
            <!-- <a href="/login" class="btn btn-success btn-lg">Login</a> -->
            <button class="btn btn-default btn-lg mb-control-close">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- END MESSAGE BOX--> 
</div>


    <script type="text/javascript">

      /* MESSAGE BOX */
    $("[class^=mb-control-]").on("click",function(){
        var box = $($(this).data("box"));
        if(box.length > 0){
            box.toggleClass("open");
            
            var sound = box.data("sound");
            
            if(sound === 'alert')
                playAudio('alert');
            
            if(sound === 'fail')
                playAudio('fail');
            
        }        
        return false;
    });
    $(".mb-control-close").on("click",function(){
       $(this).parents(".message-box").removeClass("open");
       return false;
    });    
    /* END MESSAGE BOX */

  </script>
